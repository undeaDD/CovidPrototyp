"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(function(t){function e(t){var e=y(b(),t);void 0!==e.extendWidth&&(e.tableWidth=e.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),void 0!==e.margins&&(void 0===e.margin&&(e.margin=e.margins),console.error("Use of deprecated option: margins, use margin instead.")),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(t){var n="string"==typeof t?t:t[0],o="string"==typeof t?t:t[1];void 0!==e[n]&&(void 0===e.styles[o]&&(e.styles[o]=e[n]),console.error("Use of deprecated option: "+n+", use the style "+o+" instead."))});var n=e.margin;return e.margin={},"number"==typeof n.horizontal&&(n.right=n.horizontal,n.left=n.horizontal),"number"==typeof n.vertical&&(n.top=n.vertical,n.bottom=n.vertical),["top","right","bottom","left"].forEach(function(t,o){if("number"==typeof n)e.margin[t]=n;else{var i=Array.isArray(n)?o:t;e.margin[t]="number"==typeof n[i]?n[i]:40}}),e}function n(t,e){m=new Table,m.x=w.margin.left;var n=/\r\n|\r|\n/g,o=new Row(t);o.index=-1;var i=y(p,C[w.theme].table,C[w.theme].header);o.styles=y(i,w.styles,w.headerStyles),t.forEach(function(t,e){"object"==typeof t&&(e=void 0!==t.dataKey?t.dataKey:t.key),void 0!==t.width&&console.error("Use of deprecated option: column.width, use column.styles.columnWidth instead.");var i=new Column(e);i.styles=w.columnStyles[i.dataKey]||{},m.columns.push(i);var l=new Cell;l.raw="object"==typeof t?t.title:t,l.styles=o.styles,l.text=""+l.raw,l.contentWidth=2*l.styles.cellPadding+f(l.text,l.styles),l.text=l.text.split(n),o.cells[e]=l,w.createdHeaderCell(l,{column:i,row:o,settings:w})}),m.headerRow=o,e.forEach(function(t,e){var o=new Row(t),i=e%2==0,l=y(p,C[w.theme].table,i?C[w.theme].alternateRow:{}),r=y(w.styles,w.bodyStyles,i?w.alternateRowStyles:{});o.styles=y(l,r),o.index=e,m.columns.forEach(function(e){var i=new Cell;i.raw=t[e.dataKey],i.styles=y(o.styles,e.styles),i.text=void 0!==i.raw?""+i.raw:"",o.cells[e.dataKey]=i,w.createdCell(i,d({column:e,row:o})),i.contentWidth=2*i.styles.cellPadding+f(i.text,i.styles),i.text=i.text.split(n)}),m.rows.push(o)})}function o(){var t=0;m.columns.forEach(function(e){e.contentWidth=m.headerRow.cells[e.dataKey].contentWidth,m.rows.forEach(function(t){var n=t.cells[e.dataKey].contentWidth;n>e.contentWidth&&(e.contentWidth=n)}),e.width=e.contentWidth,t+=e.contentWidth}),m.contentWidth=t;var e=u.internal.pageSize.width-w.margin.left-w.margin.right,n=e;"number"==typeof w.tableWidth?n=w.tableWidth:"wrap"===w.tableWidth&&(n=m.contentWidth),m.width=n<e?n:e;var o=[],l=0,r=m.width/m.columns.length,a=0;m.columns.forEach(function(t){var e=y(p,C[w.theme].table,w.styles,t.styles);"wrap"===e.columnWidth?t.width=t.contentWidth:"number"==typeof e.columnWidth?t.width=e.columnWidth:(e.columnWidth,t.contentWidth<=r&&m.contentWidth>m.width?t.width=t.contentWidth:(o.push(t),l+=t.contentWidth,t.width=0)),a+=t.width}),i(o,a,l,r),m.height=0;var s=m.rows.concat(m.headerRow);s.forEach(function(t,e){var n=0,o=m.x;m.columns.forEach(function(e){var i=t.cells[e.dataKey];e.x=o,h(i.styles);var l=e.width-2*i.styles.cellPadding;"linebreak"===i.styles.overflow?i.text=u.splitTextToSize(i.text,l+1,{fontSize:i.styles.fontSize}):"ellipsize"===i.styles.overflow?i.text=c(i.text,l,i.styles):"visible"===i.styles.overflow||("hidden"===i.styles.overflow?i.text=c(i.text,l,i.styles,""):"function"==typeof i.styles.overflow?i.text=i.styles.overflow(i.text,l):console.error("Unrecognized overflow type: "+i.styles.overflow));var r=Array.isArray(i.text)?i.text.length-1:0;r>n&&(n=r),o+=e.width}),t.heightStyle=t.styles.rowHeight,t.height=t.heightStyle+n*t.styles.fontSize*x,m.height+=t.height})}function i(t,e,n,o){for(var l=m.width-e-n,r=0;r<t.length;r++){var a=t[r],s=a.contentWidth/n,h=a.contentWidth+l*s<o;if(l<0&&h){t.splice(r,1),n-=a.contentWidth,a.width=o,e+=a.width,i(t,e,n,o);break}a.width=a.contentWidth+l*s}}function l(){m.rows.forEach(function(t,e){if(a(t.height)){r()}t.y=g.y,!1!==w.drawRow(t,d({row:t}))&&s(t,w.drawCell)})}function r(){w.afterPageContent(d()),u.addPage(),v++,g={x:w.margin.left,y:w.margin.top},w.beforePageContent(d()),!1!==w.drawHeaderRow(m.headerRow,d({row:m.headerRow}))&&s(m.headerRow,w.drawHeaderCell)}function a(t){var e=g.y+t+w.margin.bottom;return e>=u.internal.pageSize.height}function s(t,e){for(var n=0;n<m.columns.length;n++){var o=m.columns[n],i=t.cells[o.dataKey];if(i){h(i.styles),i.x=o.x,i.y=g.y,i.height=t.height,i.width=o.width,"top"===i.styles.valign?i.textPos.y=g.y+i.styles.cellPadding:"bottom"===i.styles.valign?i.textPos.y=g.y+t.height-i.styles.cellPadding:i.textPos.y=g.y+t.height/2,"right"===i.styles.halign?i.textPos.x=i.x+i.width-i.styles.cellPadding:"center"===i.styles.halign?i.textPos.x=i.x+i.width/2:i.textPos.x=i.x+i.styles.cellPadding;var l=d({column:o,row:t});!1!==e(i,l)&&(u.rect(i.x,i.y,i.width,i.height,i.styles.fillStyle),u.autoTableText(i.text,i.textPos.x,i.textPos.y,{halign:i.styles.halign,valign:i.styles.valign}))}}g.y+=t.height}function h(t){var e=[{func:u.setFillColor,value:t.fillColor},{func:u.setTextColor,value:t.textColor},{func:u.setFontStyle,value:t.fontStyle},{func:u.setDrawColor,value:t.lineColor},{func:u.setLineWidth,value:t.lineWidth},{func:u.setFont,value:t.font},{func:u.setFontSize,value:t.fontSize}];e.forEach(function(t){void 0!==t.value&&(t.value.constructor===Array?t.func.apply(this,t.value):t.func(t.value))})}function d(t){t=t||{};var e={pageCount:v,settings:w,table:m,cursor:g};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function c(t,e,n,o){if(o=void 0!==o?o:"...",Array.isArray(t))return t.forEach(function(i,l){t[l]=c(i,e,n,o)}),t;if(e>=f(t,n))return t;for(;e<f(t+o,n)&&!(t.length<2);)t=t.substring(0,t.length-1);return t.trim()+o}function f(t,e){h(e);var n=u.getStringUnitWidth(t);return n*e.fontSize}function y(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);for(var o=1;o<arguments.length;o++){var i=arguments[o];for(e in i)i.hasOwnProperty(e)&&("object"!=typeof i[e]||Array.isArray(i[e]),n[e]=i[e])}return n}var u,g,w,v,m,x=1.15,p={cellPadding:5,fontSize:10,font:"helvetica",lineColor:200,lineWidth:.1,fontStyle:"normal",overflow:"ellipsize",fillColor:255,textColor:20,halign:"left",valign:"top",fillStyle:"F",rowHeight:20,columnWidth:"auto"},C={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal",fillStyle:"F"},header:{textColor:255,fillColor:[41,128,185],rowHeight:23,fontStyle:"bold"},body:{},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1,fillStyle:"DF"},header:{textColor:255,fillColor:[26,188,156],rowHeight:23,fillStyle:"F",fontStyle:"bold"},body:{},alternateRow:{}},plain:{header:{fontStyle:"bold"}}},b=function(){return{theme:"striped",styles:{},headerStyles:{},bodyStyles:{},alternateRowStyles:{},columnStyles:{},startY:!1,margin:40,pageBreak:"auto",tableWidth:"auto",createdHeaderCell:function(t,e){},createdCell:function(t,e){},drawHeaderRow:function(t,e){},drawRow:function(t,e){},drawHeaderCell:function(t,e){},drawCell:function(t,e){},beforePageContent:function(t){},afterPageContent:function(t){}}};t.autoTable=function(t,i,r){u=this,w=e(r||{}),v=1,g={y:!1===w.startY?w.margin.top:w.startY};var a={textColor:30,fontSize:u.internal.getFontSize(),fontStyle:u.internal.getFont().fontStyle};n(t,i),o();var c=m.rows[0]&&"auto"===w.pageBreak?m.rows[0].height:0,f=w.startY+w.margin.bottom+m.headerRow.height+c;return"avoid"===w.pageBreak&&(f+=m.height),("always"===w.pageBreak&&!1!==w.startY||!1!==w.startY&&f>u.internal.pageSize.height)&&(u.addPage(),g.y=w.margin.top),h(a),w.beforePageContent(d()),!1!==w.drawHeaderRow(m.headerRow,d({row:m.headerRow}))&&s(m.headerRow,w.drawHeaderCell),h(a),l(),w.afterPageContent(d()),h(a),this},t.autoTableEndPosY=function(){return void 0===g||void 0===g.y?0:g.y},t.autoTableHtmlToJson=function(t){var e,n,o,i,l=[],r=[],a=t.rows[0];for(o=0;o<a.cells.length;o++)r.push(void 0!==a.cells[o]?a.cells[o].textContent:"");for(o=1;o<t.rows.length;o++){for(e=t.rows[o],n=[],i=0;i<a.cells.length;i++)n.push(void 0!==e.cells[i]?e.cells[i].textContent:"");l.push(n)}return{columns:r,data:l,rows:l}},t.autoTableText=function(t,e,n,o){"number"==typeof e&&"number"==typeof n||console.error("The x and y parameters are required. Missing for the text: ",t);var i=u.internal.getFontSize()/u.internal.scaleFactor,l=x,r=/\r\n|\r|\n/g,a=null,s=1;if("middle"!==o.valign&&"bottom"!==o.valign&&"center"!==o.halign&&"right"!==o.halign||(a="string"==typeof t?t.split(r):t,s=a.length||1),n+=i*(2-l),"middle"===o.valign?n-=s/2*i:"bottom"===o.valign&&(n-=s*i),"center"===o.halign||"right"===o.halign){var h=i;if("center"===o.halign&&(h*=.5),s>=1){for(var d=0;d<a.length;d++)u.text(a[d],e-u.getStringUnitWidth(a[d])*h,n),n+=i;return u}e-=u.getStringUnitWidth(t)*h}return u.text(t,e,n),u}})(jsPDF.API);var Table=function t(){_classCallCheck(this,t),this.height=0,this.width=0,this.x=0,this.y=0,this.contentWidth=0,this.rows=[],this.columns=[],this.headerRow=null,this.settings={}},Row=function t(e){_classCallCheck(this,t),this.raw=e||{},this.index=0,this.styles={},this.cells={},this.height=0,this.y=0},Cell=function t(e){_classCallCheck(this,t),this.raw=e,this.styles={},this.text="",this.contentWidth=0,this.textPos={},this.height=0,this.width=0,this.x=0,this.y=0},Column=function t(e){_classCallCheck(this,t),this.dataKey=e,this.options={},this.styles={},this.contentWidth=0,this.width=0,this.x=0};
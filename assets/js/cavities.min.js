function signout(){firebase.auth().signOut()}function snapshotToArray(a){var e=[];return a.forEach(function(a){var t=a.val();t.id=a.key,e.push(t)}),e}firebase.initializeApp({apiKey:"AIzaSyAKzR5AiJVZ3Iz5tJrWsLeBVDZJl2SSqLE",authDomain:"coronaprototyp.firebaseapp.com",databaseURL:"https://coronaprototyp.firebaseio.com",projectId:"coronaprototyp",storageBucket:"coronaprototyp.appspot.com",messagingSenderId:"857488715212",appId:"1:857488715212:web:763e73804d890e4bf40169"}),$(function(){$(window).resize(function(){$("#table3").DataTable().columns.adjust().draw(),$("#table3").DataTable().fixedHeader.adjust().draw()}),firebase.auth().onAuthStateChanged(function(a){a?(document.body.classList.remove("d-none"),firebase.database().ref("cavities").on("value",function(a){var e=snapshotToArray(a),t=$("#table3").DataTable({dom:"<'row'<'col-6 'B><'col-6'f>><'row'<'col-sm-12'tr>>",blurable:!1,destroy:!0,paging:!1,ordering:!0,info:!1,keys:{columns:[1,2]},searching:!0,fixedHeader:!0,scrollX:!0,autoWidth:!1,order:[[0,"desc"]],language:{search:"",searchPlaceholder:"Nach Plan suchen",emptyTable:"Keine Kavitätenpläne vorhanden"},buttons:[{text:"<img height='21' class='mr-2' style='margin-top: -4px;' src='../assets/img/file-plus.png'/>Neuer Kavitätenplan",action:function(a,e,t,o){},className:"customButton mr-2"}],columns:[{data:"actions",defaultContent:"",orderable:!1,searchable:!1,render:function(a,e,t,o){return"<a onclick='removeEntry(\"cavities/"+t.id+"\")'><img height='21' src='../assets/img/trash.png'/></a>"}},{data:"id",className:"bold",orderable:!0,searchable:!0},{data:"status",defaultContent:"In Bearbeitung",orderable:!0,searchable:!0},{data:"date4",defaultContent:"-",orderable:!0,searchable:!0},{data:"count",defaultContent:"0",orderable:!0,searchable:!0}],data:e});t.columns.adjust().draw(),t.fixedHeader.adjust().draw(),$("#count3").text(t.data().count())})):(firebase.auth().signOut(),window.location.href="login.html")})});